# Airport-manageent-database
create database airline;
use airline;
create table city
(CNAME varchar(15) NOT NULL,
STATE varchar(15), 
COUNTRY VARCHAR(30),
PRIMARY KEY(CNAME));
select * from city;
INSERT INTO CITY (CNAME, STATE, COUNTRY) VALUES('Louisville','Kentucky','United States');
INSERT INTO CITY (CNAME, STATE, COUNTRY) VALUES ('Chandigarh','Chandigarh','India');
INSERT INTO CITY (CNAME, STATE, COUNTRY) VALUES ('Fort Worth','Texas','United States');
INSERT INTO CITY (CNAME, STATE, COUNTRY) VALUES('Delhi','Delhi','India');
INSERT INTO CITY (CNAME, STATE, COUNTRY) VALUES('Mumbai','Maharashtra','India');
select* from city;
#CNAME column in the current table is a foreign key that references the CNAME column in the CITY table.
CREATE TABLE AIRPORT1
(AP_NAME varchar(100) NOT NULL,
STATE varchar(15), 
COUNTRY VARCHAR(30),
CNAME varchar(15),
PRIMARY KEY(AP_NAME),
FOREIGN KEY(CNAME) REFERENCES CITY(CNAME) ON DELETE CASCADE);
INSERT INTO AIRPORT1 (AP_NAME, STATE, COUNTRY, CNAME) VALUES('Louisville International Airport','Kentucky','United States','Louisville');
INSERT INTO AIRPORT1 (AP_NAME, STATE, COUNTRY, CNAME) VALUES('Chandigarh International Airport','Chandigarh','India','Chandigarh');
INSERT INTO AIRPORT1 (AP_NAME, STATE, COUNTRY, CNAME) VALUES('Dallas/Fort Worth International Airport','Texas','United States','Fort Worth');
INSERT INTO AIRPORT1 (AP_NAME, STATE, COUNTRY, CNAME) VALUES('Indira GandhiInternational Airport','Delhi','India','Delhi');
INSERT INTO AIRPORT1 (AP_NAME, STATE, COUNTRY, CNAME) VALUES('Chhatrapati Shivaji International Airport','Maharashtra','India','Mumbai');
select * from AIRPORT1;
CREATE TABLE AIRLINE1
(AIRLINEID VARCHAR(3) NOT NULL,
AL_NAME varchar(50),
THREE_DIGIT_CODE VARCHAR(3),
PRIMARY KEY(AIRLINEID));
select * from AIRLINE1;
INSERT INTO AIRLINE1 (AIRLINEID, AL_NAME, THREE_DIGIT_CODE) VALUES('AA','American Airlines','001');
INSERT INTO AIRLINE1 (AIRLINEID, AL_NAME, THREE_DIGIT_CODE) VALUES('AI','Air India Limited','098');
INSERT INTO AIRLINE1 (AIRLINEID, AL_NAME, THREE_DIGIT_CODE) VALUES('LH','Lufthansa', '220');
INSERT INTO AIRLINE1 (AIRLINEID, AL_NAME, THREE_DIGIT_CODE) VALUES('BA','British Airways','125');
INSERT INTO AIRLINE1 (AIRLINEID, AL_NAME, THREE_DIGIT_CODE) VALUES('QR','Qatar Airways','157');
SELECT * FROM AIRLINE1;
CREATE TABLE FLIGHT1
(FLIGHT_CODE VARCHAR(10) NOT NULL,
SOURCE VARCHAR(3),
DESTINATION VARCHAR(3),
ARRIVAL varchar(10),
DEPARTURE varchar(10),
STATUS VARCHAR(10),
DURATION varchar(30),
FLIGHTTYPE VARCHAR(10),
LAYOVER_TIME varchar(30),
NO_OF_STOPS INT,
AIRLINEID VARCHAR(3),
PRIMARY KEY(FLIGHT_CODE),
FOREIGN KEY(AIRLINEID) REFERENCES AIRLINE(AIRLINEID) ON DELETE CASCADE);
SELECT* FROM FLIGHT1;
INSERT INTO FLIGHT1(FLIGHT_CODE, SOURCE, DESTINATION, ARRIVAL, DEPARTURE, STATUS, DURATION, FLIGHTTYPE, LAYOVER_TIME, NO_OF_STOPS, AIRLINEID)
VALUES('AI2014','BOM','DFW','02:10','03:15','On-time','24hr','Connecting',3,1,'AI');
INSERT INTO FLIGHT1(FLIGHT_CODE, SOURCE, DESTINATION, ARRIVAL, DEPARTURE, STATUS, DURATION, FLIGHTTYPE, LAYOVER_TIME, NO_OF_STOPS, AIRLINEID)
VALUES('QR2305','BOM','DFW','13:00','13:55','Delayed','21hr','Non-stop',0,0,'QR');
INSERT INTO FLIGHT1(FLIGHT_CODE, SOURCE, DESTINATION, ARRIVAL, DEPARTURE, STATUS, DURATION, FLIGHTTYPE, LAYOVER_TIME, NO_OF_STOPS, AIRLINEID)
VALUES('EY1234','JFK','TPA','19:20','20:05','On-time','16hrs','Connecting',5,2,'EY');
INSERT INTO FLIGHT1(FLIGHT_CODE, SOURCE, DESTINATION, ARRIVAL, DEPARTURE, STATUS, DURATION, FLIGHTTYPE, LAYOVER_TIME, NO_OF_STOPS, AIRLINEID)
VALUES('LH9876','JFK','BOM','05:50','06:35','On-time','18hrs','Non-stop',0,0,'LH');
INSERT INTO FLIGHT1(FLIGHT_CODE, SOURCE, DESTINATION, ARRIVAL, DEPARTURE, STATUS, DURATION, FLIGHTTYPE, LAYOVER_TIME, NO_OF_STOPS, AIRLINEID)
VALUES('BA1689','FRA','DEL','10:20','10:55','On-time','14hrs','Non-stop',0,0,'BA');
SELECT * FROM FLIGHT1;

CREATE TABLE PASSENGERIN
(PID INT NOT NULL,
PASSPORTNO VARCHAR(10) NOT NULL,
PRIMARY KEY(PID, PASSPORTNO));
INSERT INTO PASSENGERIN(PID, PASSPORTNO) VALUES(1,'A1234568');
INSERT INTO PASSENGERIN(PID, PASSPORTNO) VALUES(2,'B9876541');
INSERT INTO PASSENGERIN(PID, PASSPORTNO) VALUES(3,'C2345698');
INSERT INTO PASSENGERIN(PID, PASSPORTNO) VALUES(4,'D1002004');
INSERT INTO PASSENGERIN(PID, PASSPORTNO) VALUES(5,'X9324666');
SELECT * FROM PASSENGERIN;
CREATE TABLE PASSENGERSIN2
(PASSPORTNO VARCHAR(10) NOT NULL,
FNAME varchar(20),
M VARCHAR(1),
LNAME VARCHAR(20),
ADDRESS VARCHAR(100),
PHONE INT,
AGE INT,
SEX VARCHAR(1));
SELECT * FROM PASSENGERSIN2;
INSERT INTO PASSENGERSIN2(PASSPORTNO,FNAME,M,LNAME,ADDRESS,AGE,SEX)
VALUES('A1234568','ALEN','M','SMITH','2230 NORTHSIDE, APT 11, ALBANY, NY',30,'M');
INSERT INTO PASSENGERSIN2(PsASSPORTNO,FNAME,M,LNAME,ADDRESS,AGE,SEX)
VALUES('B9876541','ANKITA','V','AHIR','3456 VIKAS APTS, APT 102,DOMBIVLI, INDIA',26,'F');
INSERT INTO PASSENGERSIN2(PASSPORTNO,FNAME,M,LNAME,ADDRESS,AGE,SEX)
VALUES('C2345698','KHYATI','A','MISHRA','7820 MCCALLUM COURTS, APT 234, AKRON, OH',30,'F');
INSERT INTO PASSENGERSIN2(PASSPORTNO,FNAME,M,LNAME,ADDRESS,PHONE,AGE,SEX)
VALUES('D1002004','ANKITA','S','PATIL','7720 MCCALLUM BLVD, APT 1082, DALLAS, TX',23,'F');
SELECT * FROM PASSENGERSIN2;


CREATE TABLE EMPLOYEE
(SSN INT NOT NULL,
FNAME VARCHAR(20),
M VARCHAR(1),
LNAME VARCHAR(20),
ADDRESS VARCHAR(100),
PHONE INT,
AGE INT,
SEX VARCHAR(1),
JOBTYPE VARCHAR(30),
ASTYPE VARCHAR(30),
ETYPE VARCHAR(30),
SHIFT VARCHAR(20),
POSITION VARCHAR(30),
AP_NAME VARCHAR(100),
PRIMARY KEY(SSN),
FOREIGN KEY(AP_NAME) REFERENCES AIRPORT(AP_NAME) ON DELETE CASCADE);

INSERT INTO EMPLOYEE(SSN, FNAME, M, LNAME, ADDRESS, AGE, SEX, JOBTYPE, ASTYPE, ETYPE, SHIFT, POSITION, AP_NAME)
VALUES(123456789,'LINDA','M','GOODMAN','731 Fondren, Houston, TX', 35, 'F','ADMINISTRATIVE SUPPORT','RECEPTIONIST','','','','Louisville International Airport');
INSERT INTO EMPLOYEE(SSN, FNAME, M, LNAME, ADDRESS, AGE, SEX, JOBTYPE, ASTYPE, ETYPE, SHIFT, POSITION, AP_NAME)
VALUES(333445555,'JOHNY','N','PAUL','638 Voss, Houston, TX', 40, 'M','ADMINISTRATIVE SUPPORT','SECRETARY','','','','Louisville International Airport');
INSERT INTO EMPLOYEE(SSN, FNAME, M, LNAME, ADDRESS, AGE, SEX, JOBTYPE, ASTYPE, ETYPE, SHIFT, POSITION, AP_NAME)
VALUES(999887777,'JAMES','P','BOND','3321 Castle, Spring, TX', 50, 'M','ENGINEER','','RADIO ENGINEER','','','Louisville International Airport');
SELECT * FROM EMPLOYEE;
CREATE TABLE EMPLOYEEIN2
(JOBTYPE varchar(30) NOT NULL,
SALARY INT,
PRIMARY KEY(JOBTYPE));
INSERT INTO EMPLOYEEIN2(JOBTYPE, SALARY)VALUES('ADMINISTRATIVE SUPPORT',50000);
INSERT INTO EMPLOYEEIN2(JOBTYPE, SALARY)VALUES('ENGINEER',70000);
INSERT INTO EMPLOYEEIN2(JOBTYPE, SALARY)VALUES('TRAFFIC MONITOR',80000);
INSERT INTO EMPLOYEEIN2(JOBTYPE, SALARY)VALUES('AIRPORT AUTHORITY',90000);
SELECT * FROM EMPLOYEEIN2;

CREATE TABLE TICKET2_
(DATE_OF_BOOKING DATE NOT NULL,
SOURCE VARCHAR(3) NOT NULL,
DESTINATION VARCHAR(3) NOT NULL,
CLASS varchar(15) NOT NULL,
PRICE INT,
PRIMARY KEY(DATE_OF_BOOKING, SOURCE, DESTINATION, CLASS));
INSERT INTO TICKET2_(DATE_OF_BOOKING, SOURCE, DESTINATION, CLASS, PRICE) 
VALUES('11-05-16','BOM','DFW','ECONOMY',95000);
INSERT INTO TICKET2_(DATE_OF_BOOKING, SOURCE, DESTINATION, CLASS, PRICE) 
VALUES('11-06-16','JFK','BOM','ECONOMY',100000);
INSERT INTO TICKET2_(DATE_OF_BOOKING, SOURCE, DESTINATION, CLASS, PRICE) 
VALUES('21-08-16','IAH','DEL','BUSINESS',200000);
INSERT INTO TICKET2_(DATE_OF_BOOKING, SOURCE, DESTINATION, CLASS, PRICE) 
VALUES('10-09-16','IXC','IAH','FIRST-CLASS',150000);
SELECT * FROM TICKET2_;
CREATE TABLE TICKET3
(DATE_OF_CANCELLATION DATE NOT NULL,
SURCHARGE INT,
PRIMARY KEY(DATE_OF_CANCELLATION));
INSERT INTO TICKET3(DATE_OF_CANCELLATION, SURCHARGE) VALUES('10-10-16',75000);
INSERT INTO TICKET3(DATE_OF_CANCELLATION, SURCHARGE) VALUES('25-05-16',25000);
SELECT * FROM TICKET3;
SET @TEMP_SQL_MODE = @@SQL_MODE;
SET @TEMP_FOREIGN_KEY_CHECKS = @@FOREIGN_KEY_CHECKS;
show tables in airlineS;
#auto_increment
ALTER TABLE PASSENGERIN ADD COLUMN PNAME INT; 
SELECT * FROM PASSENGERIN;#auto_increment

ALTER TABLE PASSENGERIN MODIFY PNAME INT first;
SELECT * FROM PASSENGERIN; 
ALTER TABLE EMPLOYEEIN2 DROP primary key;
#conditional operator
SELECT *
FROM TICKET2
WHERE CLASS = 'ECONOMY';
DROP TABLE PLACE;
#rename
ALTER TABLE CITY
RENAME TO PLACE;
SELECT * FROM PLACE;
#Arithmetic_Operator
SELECT
    SSN *AGE AS SSN_AGE
FROM EMPLOYEE;
SELECT
    SSN + AGE AS SSN_AGE
FROM EMPLOYEE ;

SELECT
    SSN - AGE AS SSN_AGE
FROM EMPLOYEE;

SELECT
    SSN / AGE AS SSN_AGE
FROM EMPLOYEE;
SELECT *
FROM TICKET2_
WHERE DATE_OF_BOOKING > '11-06-16';
#Rank
SELECT
    CNAME,
    STATE,
    COUNTRY,
    RANK() OVER (PARTITION BY STATE ORDER BY COUNTRY DESC) AS attend_rank
FROM CITY;
#JOIN
select CITY.CNAME,STATE,COUNTRY from AIRPORT1 inner join CITY on 'CITY.CNAME'='AIRPORT1.CNAME';
select * from AIRPORT1;
select CITY.CNAME,STATE,COUNTRY from  AIRPORT1 left join CITY on 'CITY.CNAME'='AIRPORT1.CNAME';
select CITY.CNAME,STATE,COUNTRY from  AIRPORT1 left join CITY on 'CITY.CNAME'='AIRPORT1.CNAME';
select CITY.CNAME,STATE,COUNTRY from AIRPORT1 inner join CITY on 'CITY.CNAME'='AIRPORT1.CNAME';


